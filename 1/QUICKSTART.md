# Краткое руководство по запуску

## Быстрый старт

### 1. Запуск приложения

```bash
# Короткая команда
bun start

# Или полная
bun run index.ts
```

## Требования к паролю

- Минимум 3 символа
- Максимум 128 символов

### 3. Основные операции

После входа вы можете:

#### Работа с файлами (меню 1)

- Создать текстовый файл
- Прочитать файл
- Изменить файл
- Удалить файл
- Скопировать файл
- Просмотреть список файлов
- Создать директорию

#### Работа с JSON/XML (меню 2)

- Создать и сохранить JSON
- Прочитать JSON
- Создать и сохранить XML
- Прочитать XML
- Конвертировать между форматами

#### Работа с ZIP (меню 3)

- Создать архив
- Извлечь архив
- Просмотреть содержимое архива

#### Информация о системе (меню 4)

- Просмотр дискового пространства
- Настройки безопасности

#### История операций (меню 5)

- Просмотр всех ваших действий в системе

## Тестирование

Запустите автоматические тесты:

```bash
bun test
```

Будут запущены 47 тестов, проверяющих:

- ✓ Защита от Path Traversal (4 теста)
- ✓ Защита от SQL Injection (3 теста)
- ✓ Защита от ZIP-бомб
- ✓ Безопасная десериализация JSON/XML (10 тестов)
- ✓ Валидация размеров файлов (2 теста)
- ✓ Логирование операций (4 теста)
- ✓ Аутентификация и управление пользователями (6 тестов)
- ✓ Файловые операции (6 тестов)
- ✓ Предотвращение Race Conditions (2 теста)
- ✓ И многое другое...

## Примеры использования

### Создание текстового файла

1. Главное меню → 1 (Операции с файлами)
2. → 1 (Создать файл)
3. Введите имя: `hello.txt`
4. Введите содержимое: `Привет, мир!`

### Создание JSON файла

1. Главное меню → 2 (Работа с JSON/XML)
2. → 1 (Создать JSON файл)
3. Введите имя: `data.json`
4. Вводите пары ключ=значение:
   ```
   name=Иван
   age=25
   city=Москва
   ```
5. Пустая строка для завершения

### Создание ZIP архива

1. Главное меню → 3 (Работа с ZIP архивами)
2. → 1 (Создать ZIP архив)
3. Введите имя: `backup.zip`
4. Вводите имена файлов для архивации:
   ```
   hello.txt
   data.json
   ```
5. Пустая строка для завершения

## Структура файлов

Все файлы сохраняются в директории:

```
./storage/
```

База данных:

```
./filemanager.db
```

## Безопасность

Приложение реализует следующие меры безопасности:

1. **Path Traversal**: Нельзя получить доступ к файлам вне `storage/`
2. **SQL Injection**: Все запросы используют prepared statements
3. **ZIP Bomb**: Проверка коэффициента сжатия перед извлечением
4. **XXE**: Защита от внешних сущностей в XML
5. **Race Conditions**: Блокировки файлов для атомарных операций
6. **Audit Log**: Все действия записываются в БД

## Ограничения

- Максимальный размер файла: 100 МБ
- Максимальный размер JSON: 10 МБ
- Максимальный размер XML: 10 МБ
- Максимальный размер ZIP: 50 МБ
- Максимальный коэффициент сжатия: 100

## Устранение проблем

### Проблема: "Path traversal detected"

**Решение**: Используйте только имена файлов без путей (например, `file.txt` вместо `../file.txt`)

### Проблема: "File size exceeds maximum"

**Решение**: Уменьшите размер файла или разбейте его на части

### Проблема: "Invalid credentials"

**Решение**: Проверьте имя пользователя и пароль

### Проблема: "Password must contain..."

**Решение**: Убедитесь, что пароль соответствует всем требованиям

## Выход из приложения

В главном меню выберите "7" для выхода из аккаунта или используйте Ctrl+C для полного закрытия.
